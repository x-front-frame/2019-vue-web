{"remainingRequest":"/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/node_modules/babel-loader/lib/index.js??ref--29-1!/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/src/assets/util.js","dependencies":[{"path":"/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/src/assets/util.js","mtime":1581899048114},{"path":"/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import \"core-js/modules/es6.regexp.replace\";\nimport _typeof from \"/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/node_modules/@babel/runtime-corejs2/helpers/esm/typeof\";\nimport \"core-js/modules/es6.regexp.split\";\n\n/* eslint-disable */\nimport Vue from 'vue'; //localStorage\n\nexport var storage = function storage(key, value) {\n  if (value === void 0) {\n    var lsVal = localStorage.getItem(key);\n\n    if (lsVal && lsVal.indexOf('autostringify-') === 0) {\n      return JSON.parse(lsVal.split('autostringify-')[1]);\n    } else {\n      return lsVal;\n    }\n  } else {\n    if (_typeof(value) === \"object\" || Array.isArray(value)) {\n      value = 'autostringify-' + JSON.stringify(value);\n    }\n\n    ;\n    return localStorage.setItem(key, value);\n  }\n}; //生成随机数\n\nexport var getUUID = function getUUID(len) {\n  len = len || 6;\n  len = parseInt(len, 10);\n  len = isNaN(len) ? 6 : len;\n  var seed = \"0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ\";\n  var seedLen = seed.length - 1;\n  var uuid = \"\";\n\n  while (len--) {\n    uuid += seed[Math.round(Math.random() * seedLen)];\n  }\n\n  return uuid;\n}; //深拷贝\n\nexport var deepcopy = function deepcopy(source) {\n  if (!source) {\n    return source;\n  }\n\n  var sourceCopy = source instanceof Array ? [] : {};\n\n  for (var item in source) {\n    sourceCopy[item] = _typeof(source[item]) === 'object' ? deepcopy(source[item]) : source[item];\n  }\n\n  return sourceCopy;\n}; //日期格式化\n\nexport var dateFormat = function dateFormat(source, ignore_minute) {\n  var separate = '-';\n\n  if (!source) {\n    source = new Date();\n  }\n\n  if (!isNaN(parseInt(source))) {\n    //时间戳（秒）\n    source = source * 1000;\n  } else if (source.split) {\n    //字符串过滤'-'\n    source = source.replace(/\\-/g, '/');\n  }\n\n  if (new Date(source) && new Date(source).getDate) {\n    var myDate = new Date(source);\n    var minute = '';\n\n    if (!ignore_minute) {\n      minute = (myDate.getHours() < 10 ? \" 0\" : \" \") + myDate.getHours() + \":\" + (myDate.getMinutes() < 10 ? \"0\" : \"\") + myDate.getMinutes();\n    }\n\n    return myDate.getFullYear() + separate + (myDate.getMonth() + 1) + separate + (myDate.getDate() < 10 ? '0' : '') + myDate.getDate() + minute;\n  } else {\n    return source.slice(0, 16);\n  }\n}; //ajax错误处理\n\nexport var catchError = function catchError(error) {\n  if (error.data) {\n    error.response = error.data;\n  }\n\n  if (error.response) {\n    switch (error.response.status) {\n      case 400:\n        window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '请求参数异常',\n          time: 1000\n        }).show();\n        break;\n\n      case 401:\n        storage('user', '');\n        window.location.reload();\n        break;\n\n      case 403:\n        window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '无访问权限，请联系企业管理员',\n          time: 1000\n        }).show();\n        break;\n\n      default:\n        window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '服务端异常，请联系技术支持',\n          time: 1000\n        }).show();\n    }\n  } else if (error.message) {\n    var message = error.message;\n\n    if (message.indexOf('timeout') > -1) {\n      message = '请求超时，请重试';\n    }\n\n    if (message.indexOf('Network') > -1) {\n      message = '网络异常';\n    }\n\n    window.globalThis.$createToast({\n      type: \"error\",\n      txt: message,\n      time: 1000\n    }).show();\n  }\n\n  return Promise.reject(error);\n};\nvar bus = new Vue(); //监听事件\n\nexport var on = function on(eventName, eventHandle) {\n  if (eventName && typeof eventHandle === 'function') return bus.$on(eventName, eventHandle);\n}; //触发事件\n\nexport var emit = function emit(eventName, msg) {\n  return bus.$emit(eventName, msg);\n};",{"version":3,"sources":["/Users/lixuerui/Documents/PJ/free/Vue-Scaffold-Mobile/src/assets/util.js"],"names":["Vue","storage","key","value","lsVal","localStorage","getItem","indexOf","JSON","parse","split","Array","isArray","stringify","setItem","getUUID","len","parseInt","isNaN","seed","seedLen","length","uuid","Math","round","random","deepcopy","source","sourceCopy","item","dateFormat","ignore_minute","separate","Date","replace","getDate","myDate","minute","getHours","getMinutes","getFullYear","getMonth","slice","catchError","error","data","response","status","window","globalThis","$createToast","type","txt","message","time","show","location","reload","Promise","reject","bus","on","eventName","eventHandle","$on","emit","msg","$emit"],"mappings":"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","sourcesContent":["/* eslint-disable */\nimport Vue from 'vue'\n\n//localStorage\nexport const storage = function(key, value) {\n  if (value === void(0)) {\n      let lsVal = localStorage.getItem(key);\n      if (lsVal && lsVal.indexOf('autostringify-') === 0) {\n          return JSON.parse(lsVal.split('autostringify-')[1]);\n      } else {\n          return lsVal;\n      }\n  } else {\n      if (typeof(value) === \"object\" || Array.isArray(value)) {\n          value = 'autostringify-' + JSON.stringify(value);\n      };\n      return localStorage.setItem(key, value);\n  }\n}\n//生成随机数\nexport const getUUID = function (len) {\n  len = len || 6;\n  len = parseInt(len, 10);\n  len = isNaN(len) ? 6 : len;\n  var seed = \"0123456789abcdefghijklmnopqrstubwxyzABCEDFGHIJKLMNOPQRSTUVWXYZ\";\n  var seedLen = seed.length - 1;\n  var uuid = \"\";\n  while (len--) {\n    uuid += seed[Math.round(Math.random() * seedLen)];\n  }\n  return uuid;\n};\n//深拷贝\nexport const deepcopy = function (source) {\n  if (!source) {\n    return source;\n  }\n  let sourceCopy = source instanceof Array ? [] : {};\n  for (let item in source) {\n    sourceCopy[item] = typeof source[item] === 'object' ? deepcopy(source[item]) : source[item];\n  }\n  return sourceCopy;\n};\n//日期格式化\nexport const dateFormat = function(source, ignore_minute) {\n  const separate = '-';\n  if (!source) {\n      source = new Date();\n  }\n\n  if (!isNaN(parseInt(source))) {\n      //时间戳（秒）\n      source = source * 1000\n  } else if (source.split) {\n      //字符串过滤'-'\n      source = source.replace(/\\-/g, '/');\n  }\n\n  if (new Date(source) && (new Date(source)).getDate) {\n      let myDate = new Date(source);\n      let minute = '';\n      if (!ignore_minute) {\n          minute = (myDate.getHours() < 10 ? \" 0\" : \" \") + myDate.getHours() + \":\" + (myDate.getMinutes() < 10 ? \"0\" : \"\") + myDate.getMinutes();\n      }\n      return myDate.getFullYear() + separate + (myDate.getMonth() + 1) + separate + (myDate.getDate() < 10 ? '0' : '') + myDate.getDate() + minute;\n  } else {\n      return source.slice(0, 16);\n  }\n\n};\n//ajax错误处理\nexport const catchError = function(error) {\n  if(error.data){\n    error.response = error.data\n  }\n  if (error.response) {\n    switch (error.response.status) {\n      case 400:\n      window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '请求参数异常',\n          time: 1000\n        }).show();\n        \n        break;\n      case 401:\n        storage('user','');\n        window.location.reload()\n        break;\n      case 403:\n      window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '无访问权限，请联系企业管理员',\n          time: 1000\n        }).show();\n        \n        break;\n      default:\n      window.globalThis.$createToast({\n          type: \"error\",\n          txt: error.response.data.message || '服务端异常，请联系技术支持',\n          time: 1000\n        }).show();\n        \n    }\n  }else if(error.message){\n    let message = error.message;\n    if(message.indexOf('timeout')>-1){\n      message = '请求超时，请重试'\n    }\n    if(message.indexOf('Network')>-1){\n      message = '网络异常'\n    }\n    window.globalThis.$createToast({\n      type: \"error\",\n      txt: message,\n      time: 1000\n    }).show();\n  }\n  \n  return Promise.reject(error);\n}\n\nlet bus = new Vue();\n//监听事件\nexport const on = function (eventName, eventHandle) {\n  if (eventName && (typeof eventHandle === 'function'))\n    return bus.$on(eventName, eventHandle)\n};\n//触发事件\nexport const emit = function (eventName, msg) {\n  return bus.$emit(eventName, msg)\n};\n"]}]}